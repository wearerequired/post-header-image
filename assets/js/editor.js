!function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=12)}([function(e,t){!function(){e.exports=this.wp.element}()},function(e,t){!function(){e.exports=this.wp.i18n}()},function(e,t){!function(){e.exports=this.wp.components}()},function(e,t){!function(){e.exports=this.wp.editor}()},function(e,t){e.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},function(e,t){!function(){e.exports=this.wp.data}()},function(e,t){!function(){e.exports=this.wp.editPost}()},function(e,t){!function(){e.exports=this.wp.compose}()},function(e,t){!function(){e.exports=this.wp.plugins}()},function(e,t){!function(){e.exports=this.lodash}()},function(e,t){!function(){e.exports=this.wp.hooks}()},function(e,t,r){},function(e,t,r){"use strict";r.r(t);var n=r(8),i=r(4),o=r.n(i),a=r(0),c=r(9),u=r(1),s=r(6),l=r(2),d=r(3),p=r(5),m=r(7),f=r(10);r(11);function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var O=["image"];var h=Object(m.compose)(Object(p.withSelect)((function(e){var t=e("core/editor").getEditedPostAttribute;return{postType:(0,e("core").getPostType)(t("type"))}})),Object(m.ifCondition)((function(e){var t=e.postType,r=!1;return t&&(r=t.supports["post-header-image"]),r})),Object(p.withSelect)((function(e){var t=e("core").getMedia,r=((0,e("core/editor").getEditedPostAttribute)("meta")||[]).post_header_image||null;return{media:r?t(r):null,headerImageId:r}})),Object(p.withDispatch)((function(e,t){var r=t.meta,n=e("core/editor").editPost;return{onUpdateImage:function(e){n({meta:g({},r,o()({},"post_header_image",e.id))})},onRemoveImage:function(){n({meta:g({},r,o()({},"post_header_image",0))})}}})))((function(e){var t,r,n,i=e.media,o=e.headerImageId,p=e.onUpdateImage,m=e.onRemoveImage;if(i){var b=Object(f.applyFilters)("editor.PostHeaderImage.imageSize","post-thumbnail",i.id);Object(c.has)(i,["media_details","sizes",b])?(t=i.media_details.sizes[b].width,r=i.media_details.sizes[b].height,n=i.media_details.sizes[b].source_url):(t=i.media_details.width,r=i.media_details.height,n=i.source_url)}return Object(a.createElement)(a.Fragment,null,Object(a.createElement)(s.PluginSidebarMoreMenuItem,{target:"post-header-image-sidebar"},Object(u.__)("Post Header Image","post-header-image")),Object(a.createElement)(s.PluginSidebar,{name:"post-header-image-sidebar",title:Object(u._x)("Post Header Image","Plugin sidebar options title","post-header-image")},Object(a.createElement)(l.PanelBody,{title:Object(u.__)("Header Image","post-header-image")},Object(a.createElement)(d.MediaUploadCheck,null,Object(a.createElement)(d.MediaUpload,{title:Object(u.__)("Header Image","post-header-image"),onSelect:p,allowedTypes:O,render:function(e){var c=e.open;return Object(a.createElement)(l.Button,{onClick:c,className:o?"editor-post-featured-image__preview":"editor-post-featured-image__toggle","aria-label":o?Object(u.__)("Edit or update the image"):null},!!o&&i&&Object(a.createElement)(l.ResponsiveWrapper,{naturalWidth:t,naturalHeight:r},Object(a.createElement)("img",{src:n,alt:""})),!!o&&!i&&Object(a.createElement)(l.Spinner,null),!o&&Object(u.__)("Set Header Image","post-header-image"))}})),!!o&&i&&!i.isLoading&&Object(a.createElement)(d.MediaUploadCheck,null,Object(a.createElement)(d.MediaUpload,{title:Object(u.__)("Set Header Image","post-header-image"),onSelect:p,allowedTypes:O,render:function(e){var t=e.open;return Object(a.createElement)(l.Button,{onClick:t,isDefault:!0,isLarge:!0},Object(u.__)("Replace Image","post-header-image"))}})),!!o&&Object(a.createElement)(d.MediaUploadCheck,null,Object(a.createElement)(l.Button,{onClick:m,isLink:!0,isDestructive:!0},Object(u.__)("Remove Image","post-header-image"))))))}));Object(n.registerPlugin)("post-header-image-sidebar",{icon:"welcome-widgets-menus",render:h})}]);